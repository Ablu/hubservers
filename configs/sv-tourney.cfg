// ===============================================
// Official Advanced Server Configuration
// Scripted by: Samual
// ===============================================
// hooks to be passed to this file:
alias check_dmo_${_dedimode} "set _dedimode ctf"; check_dmo_${_dedimode} // _dedimode: Game mode command to execute
alias check_dmu_${_dedimutator} "set _dedimutator \"\""; check_dmu_${_dedimmutator} // _dedimutator: Mutator command to execute (e.g. jetpack)
alias check_dd_${_dedidescription} "set _dedidescription ${_dedimode}"; check_dd_${_dedidescription} // _dedidescription: Readable string for game mode and mutator

// server identification
set _description "Strict Tourney Server"
set _motd_description "Tourney server with strict and special gameplay rules"
exec profile-${_profile}.cfg

// for aliases.cfg
set _allow_extra_votes 1
set _done_initializing 0
set _server_type tourney

// ===============
// Technical Setup
// ===============
port 26600 // 000-499 is public range, 500+ is private range
maxplayers 32
//net_address ""
sv_public 0
sv_status_privacy 0
sv_maxrate 30000
timestamps 1
timeformat "^3[%Y-%m-%d %H:%M:%S]^7 "
prvm_errordump 1

// =============================
// Log files and networked stuff
// =============================
//g_ban_sync_uri "http://94.23.21.40/~xonotic/bans/" // sync bans using this ban list provider
//g_ban_sync_trusted_servers "" // accept bans that were initially set on the server IPs listed here
log_file "log-${serverconfig}.log"
sv_weaponstats_file "http://xonotic.org/weaponbalance/" // "stats-${serverconfig}.log"
g_playerstats_uri "http://stats.xonotic.org/stats/submit"
g_playerstats_debug 1
//sv_curl_defaulturl ""

// ===========================
// Maplist, voting and aliases
// ===========================
sv_vote_commands "restart fraglimit chmap gotomap nextmap endmatch reducematchtime extendmatchtime allready kick cointoss movetoteam_auto"
sv_vote_call 1 // 0 will disable the normal voting
sv_vote_master 0 // 0 will disable voting to become master, good if you prefer to use the master password instead
g_maplist ""
g_maplist_votable 6
g_maplist_shuffle 1
g_maplist_votable_abstain 1
g_maplist_votable_nodetail 0
g_maplist_mostrecent_count 2
exec aliases.cfg

// ========================
// Miscellaneous game setup
// ========================
sv_ready_restart 1 
g_ctf_win_mode 1
g_start_delay 15 
g_forced_respawn 1
g_balance_kill_delay 0
g_chat_nospectators 2
g_friendlyfire 0
g_ctf_captimerecord_always 1
g_balance_teams 0
//g_balance_teams_force 0       // 1 to automaticly balance teams even during a game
sv_fragmessage_information_ping 1
sv_fragmessage_information_handicap 2
sv_fragmessage_information_stats 1
sv_fragmessage_information_typefrag 1
//g_warmup 1
g_warmup_allguns 1
g_warmup_limit -1
g_weaponarena 0
g_minstagib 0

duel // finally execute a chosen game mode from the aliases.cfg file

// =================
// Bot configuration
// =================
bot_number 0    // number of bots to add
skill 10        // the bots skill level
minplayers 0    // add bots if less then that number of players playing. MAKE SURE ITS LESS THEN maxplayers or people will get blocked by bots!
bot_prefix "^4[^0M^4i^0T^4]^0" // prepend this to all botnames
bot_suffix " ^4bot"     // append this to all botnames
g_maplist_check_waypoints 0     // set this to 1 to skip maps without waypoints if there aren't enough players to play without bots

// =====================
// Player model settings
// =====================
//sv_defaultcharacter 1 // 1 will force a specific model for all players
//sv_defaultplayermodel models/player/megaerebus.iqm    // this model will be used
//sv_defaultplayerskin 95       // this skin number will be forced for all players
//sv_defaultplayercolors ""     // you can even force player colors here (16*shirt+pants)
sv_fbskin_green

// for aliases.cfg
set _done_initializing 1